<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi Tiết Sản Phẩm - SolarAnalytics</title>
    <link rel="icon" type="image/png" href="/assets/images/logo_rm_bgr.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    
    <!-- Google Fonts - Garamond -->
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { 
            font-family: 'Be Vietnam Pro', sans-serif; 
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .product-image {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .product-image:hover {
            transform: scale(1.02) translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .thumbnail {
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 3px solid transparent;
            border-radius: 16px;
            overflow: hidden;
            position: relative;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }
        
        .thumbnail::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, #3b82f6, #8b5cf6);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .thumbnail.active::before {
            opacity: 0.2;
        }
        
        .thumbnail.active {
            border-color: #3b82f6;
            transform: scale(1.1) translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }
        
        .thumbnail:hover {
            border-color: #93c5fd;
            transform: scale(1.05) translateY(-1px);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.2);
        }
        
        .spec-item {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-left: 4px solid #3b82f6;
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .spec-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
            transition: left 0.5s ease;
        }
        
        .spec-item:hover::before {
            left: 100%;
        }
        
        .spec-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
        }
        
        .feature-item {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(59, 130, 246, 0.2);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border-radius: 16px;
            padding: 1rem 1.5rem;
            position: relative;
            overflow: hidden;
        }
        
        .feature-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6, #06b6d4);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }
        
        .feature-item:hover::before {
            transform: translateX(0);
        }
        
        .feature-item:hover {
            background: rgba(59, 130, 246, 0.1);
            border-color: #3b82f6;
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 12px 30px rgba(59, 130, 246, 0.3);
        }
        
        .price-tag {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 1.25rem 2rem;
            border-radius: 20px;
            font-weight: 700;
            font-size: 1.75rem;
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
            position: relative;
            overflow: hidden;
        }
        
        .price-tag::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .price-tag:hover::before {
            left: 100%;
        }
        
        .discount-badge {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 12px;
            font-weight: 600;
            animation: pulse 2s infinite;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .breadcrumb {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .loading-skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 16px;
        }
        
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        .zoom-container {
            position: relative;
            overflow: hidden;
            cursor: zoom-in;
            border-radius: 24px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .zoom-container.zoomed {
            cursor: zoom-out;
        }
        
        .zoom-image {
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .modern-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .modern-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }
        
        .tab-button {
            position: relative;
            transition: all 0.3s ease;
            border-radius: 12px 12px 0 0;
        }
        
        .tab-button.active {
            background: linear-gradient(135deg, #3b82f6, #1e40af);
            color: white;
            border-color: #3b82f6;
        }
        
        .tab-button:hover:not(.active) {
            background: rgba(59, 130, 246, 0.1);
            color: #3b82f6;
        }
        
        .contact-btn {
            background: linear-gradient(135deg, #3b82f6, #1e40af);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }
        
        .contact-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .contact-btn:hover::before {
            left: 100%;
        }
        
        .contact-btn:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 12px 30px rgba(59, 130, 246, 0.4);
        }
        
        .rating-stars {
            color: #fbbf24;
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
            filter: drop-shadow(0 2px 4px rgba(251, 191, 36, 0.3));
        }
        
        .stock-badge {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 16px;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }
        
        .stock-badge.out-of-stock {
            background: linear-gradient(135deg, #6b7280, #4b5563);
            box-shadow: 0 4px 15px rgba(107, 114, 128, 0.3);
        }
        
        .category-badge {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 500;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
        }
        
        .brand-badge {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(107, 114, 128, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 16px;
            color: #6b7280;
        }
        
        .floating-animation {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        /* Enhanced Animation Effects */
        .fade-in-up {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.8s ease-out forwards;
        }

        .fade-in-left {
            opacity: 0;
            transform: translateX(-30px);
            animation: fadeInLeft 0.8s ease-out forwards;
        }

        .fade-in-right {
            opacity: 0;
            transform: translateX(30px);
            animation: fadeInRight 0.8s ease-out forwards;
        }

        .scale-in {
            opacity: 0;
            transform: scale(0.8);
            animation: scaleIn 0.6s ease-out forwards;
        }

        .bounce-in {
            opacity: 0;
            transform: scale(0.3);
            animation: bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInLeft {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInRight {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes scaleIn {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Stagger animation delays */
        .stagger-1 { animation-delay: 0.1s; }
        .stagger-2 { animation-delay: 0.2s; }
        .stagger-3 { animation-delay: 0.3s; }
        .stagger-4 { animation-delay: 0.4s; }
        .stagger-5 { animation-delay: 0.5s; }
        .stagger-6 { animation-delay: 0.6s; }

        /* Enhanced hover effects */
        .hover-lift {
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .hover-lift:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .hover-glow {
            transition: all 0.3s ease;
            position: relative;
        }

        .hover-glow:hover {
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.4);
        }

        .hover-glow::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #3b82f6, #8b5cf6, #06b6d4, #10b981);
            border-radius: inherit;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .hover-glow:hover::before {
            opacity: 0.7;
        }

        /* Pulse animation for important elements */
        .pulse-slow {
            animation: pulseGlow 3s ease-in-out infinite;
        }

        @keyframes pulseGlow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
            }
            50% {
                box-shadow: 0 0 40px rgba(59, 130, 246, 0.6);
            }
        }

        /* Rotating animation for icons */
        .rotate-on-hover {
            transition: transform 0.3s ease;
        }

        .rotate-on-hover:hover {
            transform: rotate(360deg);
        }

        /* Shimmer effect */
        .shimmer {
            position: relative;
            overflow: hidden;
        }

        .shimmer::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Action Button Styles */
        .action-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            border: none;
            cursor: pointer;
        }

        .action-button.primary {
            background: linear-gradient(135deg, #3b82f6, #1e40af);
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }

        .action-button.primary:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.6);
        }

        .action-button.secondary {
            background: rgba(255, 255, 255, 0.9);
            color: #374151;
            border: 2px solid #e5e7eb;
            backdrop-filter: blur(10px);
        }

        .action-button.secondary:hover {
            background: rgba(59, 130, 246, 0.1);
            border-color: #3b82f6;
            color: #3b82f6;
            transform: translateY(-2px);
        }

        .action-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .action-button:hover::before {
            left: 100%;
        }

        /* Enhanced Tab Button Styles */
        .tab-button {
            border: none;
            background: transparent;
            color: #64748b;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            border-radius: 16px 16px 0 0;
        }

        .tab-button.active {
            background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }

        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6, #06b6d4);
            border-radius: 2px;
        }

        .tab-button:not(.active):hover {
            background: rgba(59, 130, 246, 0.08);
            color: #3b82f6;
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.2);
        }

        /* Responsive improvements */
        @media (max-width: 768px) {
            .grid.grid-cols-1.lg\\:grid-cols-2 {
                gap: 2rem;
            }
            
            .text-4xl {
                font-size: 2rem;
            }
            
            .price-tag {
                font-size: 1.5rem;
                padding: 1rem 1.5rem;
            }
            
            .tab-button {
                padding: 0.75rem 1rem;
                font-size: 0.875rem;
            }
            
            .action-button {
                padding: 0.875rem 1.5rem;
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-garamond">
    <!-- Header -->
    <header id="header-container" class="bg-white shadow-lg sticky top-0 z-50">
        <!-- Header will be loaded dynamically -->
    </header>

    <!-- Breadcrumb -->
    <nav class="breadcrumb py-4 sticky top-16 z-40">
        <div class="container mx-auto px-4">
            <div id="breadcrumb" class="flex items-center text-sm text-gray-600">
                <a href="/" class="hover:text-blue-600 transition-colors flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" /></svg>
                    Trang chủ
                </a>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400 mx-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg>
                <a href="/products.html" class="hover:text-blue-600 transition-colors">Sản phẩm</a>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400 mx-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg>
                <span id="product-breadcrumb" class="text-gray-800 font-medium">Đang tải...</span>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Loading State -->
        <div id="loading-state" class="animate-pulse">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12">
                <div class="space-y-4">
                    <div class="loading-skeleton h-96 rounded-2xl"></div>
                    <div class="flex gap-2">
                        <div class="loading-skeleton h-20 w-20 rounded-lg"></div>
                        <div class="loading-skeleton h-20 w-20 rounded-lg"></div>
                        <div class="loading-skeleton h-20 w-20 rounded-lg"></div>
                    </div>
                </div>
                <div class="space-y-6">
                    <div class="loading-skeleton h-8 w-3/4 rounded"></div>
                    <div class="loading-skeleton h-4 w-full rounded"></div>
                    <div class="loading-skeleton h-4 w-5/6 rounded"></div>
                    <div class="loading-skeleton h-16 w-1/2 rounded-lg"></div>
                </div>
            </div>
        </div>

        <!-- Product Detail -->
        <div id="product-detail" class="hidden">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12">
                <!-- Product Images -->
                <div class="space-y-4 fade-in-left">
                    <div class="zoom-container bg-white rounded-2xl shadow-lg overflow-hidden hover-lift hover-glow">
                        <img id="main-image" src="" alt="" 
                             class="zoom-image w-full h-96 object-cover cursor-zoom-in shimmer"
                             onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjQwMCIgaGVpZ2h0PSIzMDAiIGZpbGw9IiNmM2Y0ZjYiLz48dGV4dCB4PSIyMDAiIHk9IjE1MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzZiNzI4MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE4Ij5ObyBJbWFnZTwvdGV4dD48L3N2Zz4='; this.alt='No Image'">
                    </div>
                    
                    <!-- Thumbnails -->
                    <div id="thumbnails" class="flex gap-2 overflow-x-auto pb-2 fade-in-up stagger-2">
                        <!-- Thumbnails will be loaded dynamically -->
                    </div>
                </div>

                <!-- Product Info -->
                <div class="space-y-6 fade-in-right">
                    <!-- Category & Brand -->
                    <div class="flex items-center gap-4 bounce-in stagger-1">
                        <span id="product-category" class="category-badge hover-lift"></span>
                        <span id="product-brand" class="brand-badge flex items-center hover-lift">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 rotate-on-hover" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v4a2 2 0 110 4h3a2 2 0 110 4v-4a2 2 0 012-2h-3zm0 4a2 2 0 110-4h3a2 2 0 110 4v-4a2 2 0 012-2h-3zm0 4a2 2 0 110-4h3a2 2 0 110 4v-4a2 2 0 012-2h-3z" clip-rule="evenodd" /></svg>
                            <span></span>
                        </span>
                    </div>

                    <!-- Title -->
                    <h1 id="product-title" class="text-4xl font-bold text-gray-800 leading-tight mb-4 fade-in-up stagger-2"></h1>

                    <!-- Rating -->
                    <div id="product-rating" class="flex items-center gap-4 mb-6 scale-in stagger-3">
                        <!-- Rating will be loaded dynamically -->
                    </div>

                    <!-- Description -->
                    <div class="modern-card p-6 mb-6 hover-lift fade-in-up stagger-4">
                        <h3 class="text-lg font-semibold text-gray-800 mb-3 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 rotate-on-hover" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11 3.055A1 1 0 012.065 2h-1.88C1.24 1.879 1 1.44 1 1c0-1.11.891-2 2-2a1 1 0 011.114 0l3.908 3.908a1 1 0 009.406 0l3.908-3.908a1 1 0 011.114 0c1.11 0 2 .891 2 2s-.891 2-2 2a1 1 0 01-1.114 0l-3.908-3.908a1 1 0 00-1.406 0l-3.908 3.908a1 1 0 01-1.114 0z" clip-rule="evenodd" /></svg>
                            Mô Tả Sản Phẩm
                        </h3>
                        <p id="product-description" class="text-gray-600 text-lg leading-relaxed"></p>
                    </div>

                    <!-- Price -->
                    <div class="flex items-center gap-4 mb-6 bounce-in stagger-5">
                        <div id="product-price" class="price-tag floating-animation pulse-slow"></div>
                        <div id="original-price" class="hidden">
                            <span class="text-xl text-gray-500 line-through"></span>
                            <div class="discount-badge ml-2"></div>
                        </div>
                    </div>

                    <!-- Stock Status -->
                    <div id="stock-status" class="flex items-center text-lg mb-6 scale-in stagger-6">
                        <!-- Stock status will be loaded dynamically -->
                    </div>

                    <!-- Features -->
                    <div id="product-features" class="space-y-4 mb-8 fade-in-up stagger-6">
                        <h3 class="text-xl font-bold text-gray-800 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 rotate-on-hover" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10.868 2.884c-.321 128.606-106.266 239.406-250.386 250.386-145.124 11.083-271.404-34.857-271.404-162.817 0-114.293 102.49-210.693 229.603-217.887a152.418 152.418 0 00207.072 0C434.452 31.816 512 137.274 512 262.817 512 409.896 411.862 509.247 343.874 509.247c-67.994 0-131.443-40.805-163.803-101.698a143.1 143.1 0 00-56.209-84.481l-22.66 22.66a11.426 11.426 0 00-6.308 16.812 7.451 7.451 0 0014.811 0 11.419 11.419 0 00-6.309-16.812l-22.66-22.66a143.1 143.1 0 00-163.803 101.698 143.1 143.1 0 00-56.209 84.481 152.418 152.418 0 00-207.072 0C137.274 509.247 31.816 434.452 0 343.874c0-145.124 106.266-271.404 250.386-271.404 145.124-11.083 271.404 34.857 271.404 162.817 0 114.293-102.49 210.693-229.603 217.887a152.418 152.418 0 00-207.072 0C-34.857 434.452 137.274 512 262.817 512c114.293 0 210.693-102.49 217.887-229.603a152.418 152.418 0 00207.072 0C509.247 411.862 512 343.874 512 262.817 512 137.274 434.452 31.816 343.874 0c-67.994 0-131.443 40.805-163.803 101.698a143.1 143.1 0 00-56.209 84.481l-22.66 22.66a7.451 7.451 0 0014.811 0 11.426 11.426 0 00-6.308-16.812l-22.66-22.66a143.1 143.1 0 00-163.803-101.698 143.1 143.1 0 00-56.209-84.481 152.418 152.418 0 00-207.072 0C31.816 137.274 0 262.817 0 343.874c0 145.124 106.266 271.404 250.386 271.404 145.124 11.083 271.404-34.857 271.404-162.817 0-114.293-102.49-210.693-229.603-217.887a152.418 152.418 0 00-207.072 0z" clip-rule="evenodd" /></svg>
                            Tính Năng Nổi Bật
                        </h3>
                        <div id="features-list" class="grid grid-cols-1 gap-3">
                            <!-- Features will be loaded dynamically -->
                        </div>
                    </div>

                    <!-- Actions -->
                    <div class="flex gap-4 pt-6 border-t border-gray-200 fade-in-up stagger-6">
                        <button id="contact-btn" class="action-button primary w-full hover-glow shimmer">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 rotate-on-hover" viewBox="0 0 20 20" fill="currentColor"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.518.76a11.034 11.034 0 006.364 6.364l.76-1.518a1 1 0 011.06-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" /></svg>
                            Liên Hệ Tư Vấn
                        </button>
                        <button id="share-btn" class="action-button secondary w-full sm:w-auto hover-lift">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 rotate-on-hover" viewBox="0 0 20 20" fill="currentColor"><path d="M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z" /></svg>
                            Chia sẻ
                        </button>
                    </div>
                </div>
            </div>

            <!-- Product Details Tabs -->
            <div class="modern-card overflow-hidden mt-12 shadow-2xl fade-in-up">
                <!-- Tab Headers -->
                <div class="flex flex-wrap bg-gradient-to-r from-slate-50 via-blue-50 to-indigo-50 border-b-2 border-gradient-to-r from-blue-200 to-indigo-200">
                    <button class="tab-button active flex items-center justify-center flex-1 min-w-0 px-6 py-4 text-sm font-bold transition-all duration-300 relative group bounce-in stagger-1 hover-lift" data-tab="specifications">
                        <div class="absolute inset-0 bg-gradient-to-r from-blue-500 to-indigo-600 opacity-0 group-hover:opacity-10 transition-opacity duration-300 rounded-t-xl"></div>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 transition-transform group-hover:scale-110 rotate-on-hover" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd" /></svg>
                        <span class="relative z-10">Thông Số Kỹ Thuật</span>
                    </button>
                    <button class="tab-button flex items-center justify-center flex-1 min-w-0 px-6 py-4 text-sm font-bold transition-all duration-300 relative group bounce-in stagger-2 hover-lift" data-tab="applications">
                        <div class="absolute inset-0 bg-gradient-to-r from-emerald-500 to-teal-600 opacity-0 group-hover:opacity-10 transition-opacity duration-300 rounded-t-xl"></div>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 transition-transform group-hover:scale-110 rotate-on-hover" viewBox="0 0 20 20" fill="currentColor"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                        <span class="relative z-10">Ứng Dụng</span>
                    </button>
                    <button class="tab-button flex items-center justify-center flex-1 min-w-0 px-6 py-4 text-sm font-bold transition-all duration-300 relative group bounce-in stagger-3 hover-lift" data-tab="warranty">
                        <div class="absolute inset-0 bg-gradient-to-r from-amber-500 to-orange-600 opacity-0 group-hover:opacity-10 transition-opacity duration-300 rounded-t-xl"></div>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 transition-transform group-hover:scale-110 rotate-on-hover" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
                        <span class="relative z-10">Bảo Hành</span>
                    </button>
                </div>

                <!-- Tab Content -->
                <div class="p-8 bg-gradient-to-br from-gray-50 to-blue-50 min-h-[400px]">
                    <!-- Specifications Tab -->
                    <div id="specifications-tab" class="tab-content">
                        <div id="specifications-grid" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Specifications will be loaded dynamically -->
                        </div>
                    </div>

                    <!-- Applications Tab -->
                    <div id="applications-tab" class="tab-content hidden">
                        <div class="text-center mb-8">
                            <h3 class="text-3xl font-bold text-gray-800 mb-4">Ứng Dụng Thực Tế</h3>
                            <div class="w-20 h-1 bg-gradient-to-r from-emerald-500 to-teal-500 mx-auto rounded-full"></div>
                        </div>
                        <div id="applications-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- Applications will be loaded dynamically -->
                        </div>
                    </div>

                    <!-- Warranty Tab -->
                    <div id="warranty-tab" class="tab-content hidden">
                        <div class="text-center mb-8">
                            <h3 class="text-3xl font-bold text-gray-800 mb-4">Chính Sách Bảo Hành</h3>
                            <div class="w-20 h-1 bg-gradient-to-r from-amber-500 to-orange-500 mx-auto rounded-full"></div>
                        </div>
                        
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <!-- Warranty Policy Card -->
                            <div class="group">
                                <div class="modern-card bg-gradient-to-br from-emerald-50 to-green-100 border-2 border-emerald-200 p-8 h-full transform group-hover:scale-105 transition-all duration-300">
                                    <div class="flex items-center mb-6">
                                        <div class="w-16 h-16 bg-gradient-to-r from-emerald-500 to-green-600 rounded-full flex items-center justify-center mr-4 shadow-lg">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
                                        </div>
                                        <h4 class="text-2xl font-bold text-emerald-800">Chính Sách Bảo Hành</h4>
                                    </div>
                                    <div id="warranty-info" class="text-emerald-700 space-y-4 text-lg leading-relaxed">
                                        <!-- Warranty info will be loaded dynamically -->
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Technical Support Card -->
                            <div class="group">
                                <div class="modern-card bg-gradient-to-br from-blue-50 to-cyan-100 border-2 border-blue-200 p-8 h-full transform group-hover:scale-105 transition-all duration-300">
                                    <div class="flex items-center mb-6">
                                        <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-full flex items-center justify-center mr-4 shadow-lg">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" viewBox="0 0 20 20" fill="currentColor"><path d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" /></svg>
                                        </div>
                                        <h4 class="text-2xl font-bold text-blue-800">Hỗ Trợ Kỹ Thuật</h4>
                                    </div>
                                    <div class="text-blue-700 space-y-4">
                                        <div class="flex items-center p-4 bg-white bg-opacity-70 rounded-xl shadow-sm hover:shadow-md transition-shadow">
                                            <div class="w-12 h-12 bg-gradient-to-r from-green-400 to-green-500 rounded-full flex items-center justify-center mr-4">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" viewBox="0 0 20 20" fill="currentColor"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.518.76a11.034 11.034 0 006.364 6.364l.76-1.518a1 1 0 011.06-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" /></svg>
                                            </div>
                                            <div>
                                                <p class="font-bold text-lg">Hotline 24/7</p>
                                                <p class="text-green-600 font-semibold">0979900874</p>
                                            </div>
                                        </div>
                                        
                                        <div class="flex items-center p-4 bg-white bg-opacity-70 rounded-xl shadow-sm hover:shadow-md transition-shadow">
                                            <div class="w-12 h-12 bg-gradient-to-r from-red-400 to-red-500 rounded-full flex items-center justify-center mr-4">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" viewBox="0 0 20 20" fill="currentColor"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" /></svg>
                                            </div>
                                            <div>
                                                <p class="font-bold text-lg">Email Hỗ Trợ</p>
                                                <p class="text-red-600 font-semibold">pxmanhctc@gmail.com</p>
                                            </div>
                                        </div>
                                        
                                        <div class="flex items-center p-4 bg-white bg-opacity-70 rounded-xl shadow-sm hover:shadow-md transition-shadow">
                                            <div class="w-12 h-12 bg-gradient-to-r from-purple-400 to-purple-500 rounded-full flex items-center justify-center mr-4">
                                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" /></svg>
                                            </div>
                                            <div>
                                                <p class="font-bold text-lg">Giờ Làm Việc</p>
                                                <p class="text-purple-600 font-semibold">8:00 - 17:00 (T2-T6)</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Related Products -->
            <section class="mt-16">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4 floating-animation">Sản Phẩm Liên Quan</h2>
                    <div class="w-24 h-1 bg-gradient-to-r from-blue-500 to-purple-500 mx-auto rounded-full"></div>
                </div>
                <div id="related-products" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <!-- Related products will be loaded dynamically -->
                </div>
            </section>
        </div>

        <!-- Error State -->
        <div id="error-state" class="text-center py-20 hidden">
            <div class="text-red-300 mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-24 w-24 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>
            </div>
            <h2 class="text-3xl font-bold text-gray-600 mb-4">Không Tìm Thấy Sản Phẩm</h2>
            <p class="text-gray-500 mb-8">Sản phẩm bạn đang tìm kiếm không tồn tại hoặc đã bị xóa.</p>
            <div class="space-x-4">
                <a href="/products.html" class="action-button primary">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" /></svg>
                    Quay Lại Danh Sách
                </a>
                <a href="/" class="action-button secondary">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" /></svg>
                    Trang Chủ
                </a>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer id="footer-container">
        <!-- Footer will be loaded dynamically -->
    </footer>

    <!-- Image Zoom Modal -->
    <div id="zoom-modal" class="fixed inset-0 bg-black bg-opacity-90 z-50 hidden flex items-center justify-center">
        <div class="relative max-w-4xl max-h-full p-4">
            <img id="zoom-modal-image" src="" alt="" class="max-w-full max-h-full object-contain">
            <button id="close-zoom" class="absolute top-4 right-4 text-white">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/auth-fix.js"></script>
    <script src="js/header.js"></script>
    <script src="js/components-loader.js"></script>
    <script src="js/product-detail.js"></script>
    
    <!-- Product detail page specific authentication fix -->
    <script>
        // Ensure authentication state is properly displayed on product detail pages
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🔍 Product detail page: DOM loaded, checking auth state');
            
            // Wait for components to load, then force auth check
            setTimeout(() => {
                if (window.forceAuthCheck) {
                    window.forceAuthCheck();
                } else {
                    // Fallback if forceAuthCheck not available yet
                    setTimeout(() => {
                        if (window.forceAuthCheck) {
                            window.forceAuthCheck();
                        }
                    }, 1000);
                }
            }, 500);
            
            // Also listen for header loaded event
            window.addEventListener('headerLoaded', function() {
                console.log('📡 Product detail page: Header loaded event received');
                setTimeout(() => {
                    const userInfo = localStorage.getItem('userInfo');
                    if (userInfo && window.initializeAuth) {
                        console.log('🔄 Product detail page: Re-initializing auth after header load');
                        window.initializeAuth();
                    }
                }, 200);
            });
        });
        
        // Additional check when page becomes visible
        document.addEventListener('visibilitychange', function() {
            if (!document.hidden) {
                setTimeout(() => {
                    const userInfo = localStorage.getItem('userInfo');
                    const authButtons = document.getElementById('auth-buttons');
                    
                    if (userInfo && authButtons && authButtons.style.display !== 'none') {
                        console.log('👁️ Product detail page visible: Checking auth state');
                        if (window.forceAuthCheck) {
                            window.forceAuthCheck();
                        }
                    }
                }, 300);
            }
        });
    </script>
</body>
</html>
